<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="UTF-8">
<title>–ê–¥–º–∏–Ω</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">

<!-- –ù—ç–≤—Ç—Ä—ç—Ö —Ö—ç—Å—ç–≥ -->
<div id="login">
  <h2>üîê –ê–¥–º–∏–Ω –Ω—ç–≤—Ç—Ä—ç—Ö</h2>
  <input type="password" id="pass" placeholder="–ù—É—É—Ü “Ø–≥">
  <button id="loginBtn">–ù—ç–≤—Ç—Ä—ç—Ö</button>
</div>

<!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª -->
<div id="panel" style="display:none">
  <h2>‚ûï –ú—ç–¥—ç—ç–ª—ç–ª –Ω—ç–º—ç—Ö</h2>
  <input id="title" placeholder="–ì–∞—Ä—á–∏–≥"><br>
  <textarea id="text" placeholder="–ú—ç–¥—ç—ç–ª—ç–ª"></textarea><br>
  <input type="file" id="img"><br><br>
  <button id="saveBtn">üíæ –•–∞–¥–≥–∞–ª–∞—Ö</button>
</div>

</div>
<script>
// 1Ô∏è‚É£ –ù—É—É—Ü “Ø–≥
const PASSWORD = "1234"; // ”©”©—Ä—á–∏–ª–∂ –±–æ–ª–Ω–æ

// 2Ô∏è‚É£ DOM —ç–ª–µ–º–µ–Ω—Ç–∏–π–Ω —Ö–æ–ª–±–æ–ª—Ç
const passInput = document.getElementById("pass");
const loginDiv = document.getElementById("login");
const panelDiv = document.getElementById("panel");
const loginBtn = document.getElementById("loginBtn");
const saveBtn = document.getElementById("saveBtn");

// 3Ô∏è‚É£ –ù—ç–≤—Ç—Ä—ç—Ö —Ç–æ–≤—á –¥–∞—Ä–∞—Ö–∞–¥
loginBtn.addEventListener("click", function(){
  if(passInput.value === PASSWORD){
    loginDiv.style.display = "none";
    panelDiv.style.display = "block";
  } else {
    alert("‚ùå –ë—É—Ä—É—É –Ω—É—É—Ü “Ø–≥");
  }
});

// 4Ô∏è‚É£ –ú—ç–¥—ç—ç–ª—ç–ª —Ö–∞–¥–≥–∞–ª–∞—Ö (–∑—É—Ä–∞–≥—Ç–∞–π)
saveBtn.addEventListener("click", function(){
  let title = document.getElementById("title").value;
  let text = document.getElementById("text").value;
  let imgFile = document.getElementById("img").files[0];

  let reader = new FileReader();
  reader.onload = function(){
    let arr = JSON.parse(localStorage.getItem("theory")) || [];
    arr.push({title:title, text:text, img:reader.result});
    localStorage.setItem("theory", JSON.stringify(arr));
    alert("‚úÖ –ê–º–∂–∏–ª—Ç—Ç–∞–π –Ω—ç–º—ç–≥–¥–ª—ç—ç!");
    document.getElementById("title").value = "";
    document.getElementById("text").value = "";
    document.getElementById("img").value = "";
  }
  if(imgFile){
    reader.readAsDataURL(imgFile);
  } else {
    reader.onload(); // –∑—É—Ä–∞–≥ –±–∞–π—Ö–≥“Ø–π –±–æ–ª —à—É—É–¥ —Ö–∞–¥–≥–∞–ª–∞—Ö
  }
});
</script>
</body>
</html>
