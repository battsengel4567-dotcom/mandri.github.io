<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FutureMind | –ò—Ä—ç—ç–¥“Ø–π–≥ —Ö–∞–º—Ç–¥–∞–∞</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="nav-container">
            <div class="logo" onclick="location.reload()">üöÄ FutureMind</div>
            <nav>
                <a href="submit.html" class="btn-submit">+ –ù–∏–π—Ç–ª—ç–ª –Ω—ç–º—ç—Ö</a>
            </nav>
        </div>
    </header>

    <div class="container">
        <div id="home-scene" class="scene active">
            <h1 class="center-title">–°—ç–¥–≤—ç—ç —Å–æ–Ω–≥–æ–Ω–æ —É—É</h1>
            <div class="scene-grid">
                <div class="scene-card" onclick="loadPosts('news')">ü§ñ AI & –¢–µ—Ö–Ω–æ–ª–æ–≥–∏</div>
                <div class="scene-card" onclick="loadPosts('tesla')">‚ö° Tesla & –≠–Ω–µ—Ä–≥–∏</div>
                <div class="scene-card" onclick="loadPosts('science')">üî¨ –®–∏–Ω–∂–ª—ç—Ö —É—Ö–∞–∞–Ω</div>
            </div>
            
            <div class="static-links">
                <h2>–û–Ω—Ü–ª–æ—Ö –Ω–∏–π—Ç–ª—ç–ª:</h2>
                <a href="post-ai.html" class="static-card">üß† –•–∏–π–º—ç–ª –æ—é—É–Ω —É—Ö–∞–∞–Ω –≥—ç–∂ —é—É –≤—ç?</a>
                <a href="post-tesla.html" class="static-card">üèéÔ∏è Tesla —è–∞–≥–∞–∞–¥ –¥—ç–ª—Ö–∏–π–≥ ”©”©—Ä—á–∏–ª–∂ –±–∞–π–Ω–∞ –≤—ç?</a>
            </div>
        </div>

        <div id="list-scene" class="scene">
            <button class="back-btn" onclick="showScene('home-scene')">‚Üê –ë—É—Ü–∞—Ö</button>
            <h1 id="category-title">–°—ç–¥—ç–≤</h1>
            <div id="posts-container" class="post-list"></div>
        </div>
    </div>

    <script>
        const scriptURL = "https://script.google.com/macros/s/AKfycbyjWKG3JGL0Lxqm6jCuqUI2Du6SESUKLvXMamjRZ023xh-9iBH-5TWQKROMVlJau9Jp2Q/exec";

        function showScene(id) {
            document.querySelectorAll('.scene').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        async function loadPosts(category) {
            showScene('list-scene');
            document.getElementById('category-title').innerText = category.toUpperCase();
            const container = document.getElementById('posts-container');
            container.innerHTML = "<p>–£–Ω—à–∏–∂ –±–∞–π–Ω–∞...</p>";

            try {
                const response = await fetch(scriptURL);
                const data = await response.json();
                container.innerHTML = "";
                const filtered = data.filter(row => row[0] === category).reverse();

                if (filtered.length === 0) {
                    container.innerHTML = "<p>–û–¥–æ–æ–≥–æ–æ—Ä —à–∏–Ω—ç –Ω–∏–π—Ç–ª—ç–ª –∞–ª–≥–∞.</p>";
                    return;
                }

                filtered.forEach(row => {
                    container.innerHTML += `
                        <div class="post-item">
                            <p>${row[1]}</p>
                            ${row[2] ? `<img src="${row[2]}" class="post-img">` : ""}
                        </div>`;
                });
            } catch (e) {
                container.innerHTML = "<p>–ê–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞. –î–∞—Ö–∏–Ω –∞—á–∞–∞–ª–Ω–∞ —É—É.</p>";
            }
        }
    </script>
</body>
</html>